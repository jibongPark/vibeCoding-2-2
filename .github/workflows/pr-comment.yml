name: PR Auto Comment

on:
  pull_request:
    types: [opened, reopened]

jobs:
  comment:
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
      contents: read

    steps:
    - name: Add PR Comment
      uses: actions/github-script@v7
      with:
        script: |
          const prNumber = context.payload.pull_request.number;
          const author = context.payload.pull_request.user.login;
          const title = context.payload.pull_request.title;
          
          const comment = `## ğŸ‰ PR ìë™ ê²€í†  ì•Œë¦¼

          ì•ˆë…•í•˜ì„¸ìš” @${author}ë‹˜! PRì„ ìƒì„±í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

          **PR ì •ë³´:**
          - ì œëª©: ${title}
          - ì‘ì„±ì: @${author}
          - PR ë²ˆí˜¸: #${prNumber}

          **ìë™ ê²€í†  ì‚¬í•­:**
          - [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± í™•ì¸
          - [ ] ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€í† 
          - [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”ì„± ê²€í† 
          - [ ] ë¸Œë ˆì´í‚¹ ì²´ì¸ì§€ ì—¬ë¶€ í™•ì¸

          **ë‹¤ìŒ ë‹¨ê³„:**
          1. CI/CD íŒŒì´í”„ë¼ì¸ í†µê³¼ ëŒ€ê¸°
          2. ì½”ë“œ ë¦¬ë·°ì–´ í• ë‹¹ ëŒ€ê¸°
          3. ìŠ¹ì¸ í›„ ë¨¸ì§€ ê°€ëŠ¥

          ë¦¬ë·°ê°€ ì™„ë£Œë˜ë©´ ì•Œë¦¼ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸš€`;

          github.rest.issues.createComment({
            issue_number: prNumber,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: comment
          }); 